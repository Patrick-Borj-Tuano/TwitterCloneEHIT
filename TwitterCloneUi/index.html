<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="index.css"/>

</head>

<body>
    
    <div id="logo-container">
        <img src="/Login-Signup/Images/eHit-logo-transparent-blue.png" alt="Logo Image">
    </div>

    <div id="menu-container">
        <div id="title">
            Welcome to eHit
        </div>
    
        <div id="signup-container">
            <label>Join today</label>
            <button id="signupButton" onclick="signUp()">Sign Up</button> 
        </div>

        <label id="orMargin">---------- or ----------</label>
        
        <div id="login-container">
            <label>Already have an account?</label>
            <button id="loginButton" onclick="logIn()">Login</button>
        </div>
        <div id="margin-container">
        </div>
    </div>

    <script>
        async function helloWorld() {
            const res = await fetch("/api")
            const text = await res.text()
            console.log(text);
        }

        async function register() {
            const res = await fetch("/api/v1/auth/register", {
                method: "POST",
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    username: "job",
                    password: "pass"
                })
            })
            return await res.text()
        }

        

        async function login() {
            const res = await fetch("/api/v1/auth/login", {
                method: "POST",
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    username: "job",
                    password: "pass"
                })
            })
            const token = await res.text()
            console.log(token);

        }

        // async function post() {
        //     const res = await fetch("/api/v1/posts", {
        //         method: "POST",
        //         body: JSON.stringify({
        //             username: "job",
        //             content: "Hello world. I'm using the newest and latest social media website!"
        //         })
        //     })
        //     return await res.text()
        // }

        function signUp(){
            window.location.href = "/Login-Signup/signup.html";
        }

        function logIn(){
            window.location.href = "/Login-Signup/login.html";
        }

        async function start() {
            await helloWorld()
            await register()
            await login()
            // await post()
        }
        
        start()
    </script>
</body>

</html>